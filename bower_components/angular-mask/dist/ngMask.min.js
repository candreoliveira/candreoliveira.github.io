!function(){"use strict";angular.module("ngMask",[])}(),function(){"use strict";angular.module("ngMask").directive("mask",["$log","$timeout","MaskService",function(a,b,c){return{restrict:"A",require:"ngModel",compile:function(d,e){function f(a){"number"==typeof a&&(b.cancel(g),g=b(function(){var b=a+1,c=d[0];if(c.setSelectionRange)c.focus(),c.setSelectionRange(a,b);else if(c.createTextRange){var e=c.createTextRange();e.collapse(!0),e.moveEnd("character",b),e.moveStart("character",a),e.select()}}))}if(!e.mask||!e.ngModel)return void a.error("Mask and ng-model attributes are required!");var g,h,i=c.create();return{pre:function(a,b,c){h=i.generateRegex({mask:c.mask,repeat:c.repeat||c.maskRepeat,clean:"true"===(c.clean||c.maskClean),limit:"true"===(c.limit||c.maskLimit||"true"),restrict:c.restrict||c.maskRestrict||"select",validate:"true"===(c.validate||c.maskValidate||"true"),model:c.ngModel,value:c.ngValue})},post:function(b,c,d,e){h.then(function(){function d(b){var c=i.getViewValue(b),d=g.maskWithoutOptionals||"",h=c.withDivisors(!0),j=c.withoutDivisors(!0);try{var k=i.getRegex(h.length-1),l=i.getRegex(d.length-1),m=k.test(h)||l.test(h),n=b.length-h.length===1,o=d.length-h.length>0;if("accept"!==g.restrict)if("select"!==g.restrict||m&&!n)"reject"!==g.restrict||m||(c=i.removeWrongPositions(h),h=c.withDivisors(!0),j=c.withoutDivisors(!0));else{var p=b[b.length-1],q=h[h.length-1];p!==q&&o&&(h+=p);var r=i.getFirstWrongPosition(h);angular.isDefined(r)&&f(r)}g.limit||(h=c.withDivisors(!1),j=c.withoutDivisors(!1)),g.validate&&e.$dirty&&(l.test(h)||e.$isEmpty(e.$modelValue)?e.$setValidity("mask",!0):e.$setValidity("mask",!1)),b!==h&&(e.$setViewValue(angular.copy(h),"input"),e.$render())}catch(s){throw a.error("[mask - parseViewValue]"),s}return g.clean?j:h}var g=i.getOptions();e.$parsers.push(d),c.on("click input paste keyup",function(){d(c.val()),b.$apply()});var h=b.$watch(b.ngModel,function(a){angular.isDefined(a)&&(d(a),h())});g.value&&b.$evalAsync(function(){e.$setViewValue(angular.copy(g.value),"input"),e.$render()})})}}}}}])}(),function(){"use strict";angular.module("ngMask").factory("MaskService",["$log","$q",function(a,b){function c(){function c(b){var c=[];try{for(var e=/\?/g,f=[];null!=(f=e.exec(b));)c.push(f.index-1)}catch(g){throw a.error("[MaskService - getOptionals]"),g}return{fromMask:function(){return c},fromMaskWithoutOptionals:function(){return d(c)}}}function d(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]-c);return b}function e(b){var c;try{c=b.replace(/\?/g,"")}catch(d){throw a.error("[MaskService - removeOptionals]"),d}return c}function f(a){for(var b={},c=[],d=0,e=a.length;e>d;++d)b.hasOwnProperty(a[d])||(c.push(a[d]),b[a[d]]=1);return c}function g(b,c){var d;try{d=c.indexOf(b)>-1}catch(e){throw a.error("[MaskService - inArray]"),e}return d}function h(a){return g(a,B)}function i(a){return g(a,y)}function j(b,c){function d(b,c){var d;try{var e=v[b],f=E[e],g=i(b);f?d="("+f.source+")":(h(b)||(B.push(b),C[b]=e),d="(\\"+e+")")}catch(j){throw a.error("[MaskService - generateIntermetiateElementRegex]"),j}return(g||c)&&(d+="?"),new RegExp(d)}var e,f;try{var g=d(b,c);e=g;var k=i(b),l=g.source;if(k&&w>b+1){var m=j(b+1,!0).elementOptionalRegex();l+=m.source}f=new RegExp(l)}catch(n){throw a.error("[MaskService - generateIntermetiateRegex]"),n}return{elementRegex:function(){return e},elementOptionalRegex:function(){return f}}}function k(d){function f(){function a(a,b){return a-b}for(var b=B.sort(a),c=y.sort(a),d=0;d<b.length;d++)for(var e=b[d],f=1;f<=c.length;f++){var g=c[f-1];if(g>=e)break;z[e]=z[e]?z[e].concat(e-f):[e-f],C[e-f]=C[e]}}var g=b.defer();u=d;try{var h=d.mask,i=d.repeat;i&&(h=Array(parseInt(i)+1).join(h)),y=c(h).fromMaskWithoutOptionals(),u.maskWithoutOptionals=v=e(h),w=v.length;for(var k,l=0;w>l;l++){var m=j(l),o=m.elementRegex(),p=m.elementOptionalRegex(),q=k?k.source+p.source:p.source;q=new RegExp(q),k=k?k.source+o.source:o.source,k=new RegExp(k),D.push(q)}f(),x=n(v).length,g.resolve({options:u,divisors:B,divisorElements:C,optionalIndexes:y,optionalDivisors:z,optionalDivisorsCombinations:A})}catch(r){throw a.error("[MaskService - generateRegex]"),g.reject(r),r}return g.promise}function l(b){var c;try{c=D[b]?D[b].source:""}catch(d){throw a.error("[MaskService - getRegex]"),d}return new RegExp("^"+c+"$")}function m(){return u}function n(b){try{if(B.length>0){for(var c=Object.keys(C),d=[],e=c.length-1;e>=0;e--){var g=C[c[e]];g&&d.push(g)}d=f(d);var h=new RegExp("[\\"+d.join("\\")+"]","g");return b.replace(h,"")}return b}catch(i){throw a.error("[MaskService - removeDivisors]"),i}}function o(a,b,c){function d(h){var i=a[h],j=g[h];if(h===f)for(var k=0;j>k;++k)e[h]=i[k],b.apply(c,e);else for(var k=0;j>k;++k)e[h]=i[k],d(h+1);e.pop()}c||(c=this);for(var e=[],f=a.length-1,g=[],h=a.length;h--;)g[h]=a[h].length;d(0)}function p(a){function b(a,b){function c(a,b){for(var c=b,d=0;d<a.length;d++){var e=a[d];e<c.length&&c.splice(e,0,C[e])}return c}var d=a,e=B.filter(function(a){var c=Object.keys(z).map(function(a){return parseInt(a)}),d=-1===b.indexOf(a),e=-1===c.indexOf(a);return d&&e});return angular.isArray(a)&&angular.isArray(b)?(d=c(e,d),d=c(b,d)):d}var c=a.split(""),d=!0;if(y.length>0){for(var e=[],f=Object.keys(z),g=0;g<f.length;g++){var h=z[f[g]];e.push(h)}0===A.length&&o(e,function(){A.push(Array.prototype.slice.call(arguments))});for(var g=A.length-1;g>=0;g--){var i=angular.copy(c);i=b(i,A[g]);var j=i.join(""),k=l(v.length-1);if(k.test(j)){d=!1,c=i;break}}}return d&&(c=b(c,B)),c.join("")}function q(b){try{var c=n(b),d=p(c);return{withDivisors:function(a){return a?d.substr(0,w):d},withoutDivisors:function(a){return a?c.substr(0,x):c}}}catch(e){throw a.error("[MaskService - getViewValue]"),e}}function r(a,b){var c=[];if(!a)return 0;for(var d=0;d<a.length;d++){var e=l(d),f=a.substr(0,d+1);if(e&&!e.test(f)&&(c.push(d),b))break}return c}function s(a){return r(a,!0)[0]}function t(a){var b=r(a,!1),c=a;for(var d in b){var e=b[d],f=a.split("");f.splice(e,1),c=f.join("")}return q(c)}var u,v,w=0,x=0,y=[],z={},A=[],B=[],C={},D=[],E={9:/[0-9]/,8:/[0-8]/,7:/[0-7]/,6:/[0-6]/,5:/[0-5]/,4:/[0-4]/,3:/[0-3]/,2:/[0-2]/,1:/[0-1]/,0:/[0]/,"*":/./,w:/\w/,W:/\W/,d:/\d/,D:/\D/,s:/\s/,S:/\S/,b:/\b/,A:/[A-Z]/,a:/[a-z]/,Z:/[A-ZÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,z:/[a-zçáàãâéèêẽíìĩîóòôõúùũüû]/,"@":/[a-zA-Z]/,"#":/[a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,"%":/[0-9a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/};return{getViewValue:q,generateRegex:k,getRegex:l,getOptions:m,removeDivisors:n,getFirstWrongPosition:s,removeWrongPositions:t}}return{create:c}}])}();
//# sourceMappingURL=ngMask.min.map