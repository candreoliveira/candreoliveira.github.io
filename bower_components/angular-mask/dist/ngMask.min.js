!function(){"use strict";angular.module("ngMask",[])}(),function(){"use strict";angular.module("ngMask").directive("mask",["$log","$timeout","MaskService",function(a,b,c){return{restrict:"A",require:"ngModel",compile:function(d,e){function f(a){"number"==typeof a&&(b.cancel(g),g=b(function(){var b=a+1,c=d[0];if(c.setSelectionRange)c.focus(),c.setSelectionRange(a,b);else if(c.createTextRange){var e=c.createTextRange();e.collapse(!0),e.moveEnd("character",b),e.moveStart("character",a),e.select()}}))}if(!e.mask||!e.ngModel)return void a.error("Mask and ng-model attributes are required!");var g,h=c.create();return{pre:function(a,b,c){h.generateRegex({mask:c.mask,repeat:c.repeat||c.maskRepeat,clean:"true"===(c.clean||c.maskClean),limit:"true"===(c.limit||c.maskLimit||"true"),restrict:c.restrict||c.maskRestrict||"select",validate:"true"===(c.validate||c.maskValidate||"true"),model:c.ngModel,value:c.ngValue})},post:function(b,c,d,e){function g(b){var c=h.getViewValue(b),d=i.maskWithoutOptionals||"",g=c.withDivisors(!0),j=c.withoutDivisors(!0);try{var k=h.getRegex(g.length-1),l=h.getRegex(d.length-1),m=k.test(g)||l.test(g),n=b.length-g.length===1,o=d.length-g.length>0;if("accept"!==i.restrict)if("select"!==i.restrict||m&&!n)"reject"!==i.restrict||m||(c=h.removeWrongPositions(g),g=c.withDivisors(!0),j=c.withoutDivisors(!0));else{var p=b[b.length-1],q=g[g.length-1];p!==q&&o&&(g+=p);var r=h.getFirstWrongPosition(g);angular.isDefined(r)&&f(r)}i.limit||(g=c.withDivisors(!1),j=c.withoutDivisors(!1)),i.validate&&e.$dirty&&(l.test(g)?e.$setValidity("mask",!0):e.$setValidity("mask",!1)),b!==g&&(e.$setViewValue(angular.copy(g),"input"),e.$render())}catch(s){throw a.error("[mask - parseViewValue]"),s}return i.clean?j:g}var i=h.getOptions();e.$parsers.push(g),c.on("click input paste keyup",function(){g(c.val()),b.$apply()});var j=b.$watch(b.ngModel,function(a){angular.isDefined(a)&&(g(a),j())});i.value&&b.$evalAsync(function(){e.$setViewValue(angular.copy(i.value),"input"),e.$render()})}}}}}])}(),function(){"use strict";angular.module("ngMask").factory("MaskService",["$log",function(a){function b(){function b(b){var d=[];try{for(var e=/\?/g,f=[];null!=(f=e.exec(b));)d.push(f.index-1)}catch(g){throw a.error("[MaskService - getOptionals]"),g}return{fromMask:function(){return d},fromMaskWithoutOptionals:function(){return c(d)}}}function c(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]-c);return b}function d(b){var c;try{c=b.replace(/\?/g,"")}catch(d){throw a.error("[MaskService - removeOptionals]"),d}return c}function e(a){for(var b={},c=[],d=0,e=a.length;e>d;++d)b.hasOwnProperty(a[d])||(c.push(a[d]),b[a[d]]=1);return c}function f(b,c){var d;try{d=c.indexOf(b)>-1}catch(e){throw a.error("[MaskService - inArray]"),e}return d}function g(a){return f(a,A)}function h(a){return f(a,x)}function i(b,c){function d(b,c){var d;try{var e=u[b],f=D[e],i=h(b);f?d="("+f.source+")":(g(b)||(A.push(b),B[b]=e),d="(\\"+e+")")}catch(j){throw a.error("[MaskService - generateIntermetiateElementRegex]"),j}return(i||c)&&(d+="?"),new RegExp(d)}var e,f;try{var j=d(b,c);e=j;var k=h(b),l=j.source;if(k&&v>b+1){var m=i(b+1,!0).elementOptionalRegex();l+=m.source}f=new RegExp(l)}catch(n){throw a.error("[MaskService - generateIntermetiateRegex]"),n}return{elementRegex:function(){return e},elementOptionalRegex:function(){return f}}}function j(c){function e(){function a(a,b){return a-b}for(var b=A.sort(a),c=x.sort(a),d=0;d<b.length;d++)for(var e=b[d],f=1;f<=c.length;f++){var g=c[f-1];if(g>=e)break;y[e]=y[e]?y[e].concat(e-f):[e-f],B[e-f]=B[e]}}t=c;try{var f=c.mask,g=c.repeat;g&&(f=Array(parseInt(g)+1).join(f)),x=b(f).fromMaskWithoutOptionals(),t.maskWithoutOptionals=u=d(f),v=u.length;for(var h,j=0;v>j;j++){var k=i(j),l=k.elementRegex(),n=k.elementOptionalRegex(),o=h?h.source+n.source:n.source;o=new RegExp(o),h=h?h.source+l.source:l.source,h=new RegExp(h),C.push(o)}e(),w=m(u).length}catch(p){throw a.error("[MaskService - generateRegex]"),p}}function k(b){var c;try{c=C[b]?C[b].source:""}catch(d){throw a.error("[MaskService - getRegex]"),d}return new RegExp("^"+c+"$")}function l(){return t}function m(b){try{if(A.length>0){for(var c=Object.keys(B),d=[],f=c.length-1;f>=0;f--){var g=B[c[f]];g&&d.push(g)}d=e(d);var h=new RegExp("[\\"+d.join("\\")+"]","g");return b.replace(h,"")}return b}catch(i){throw a.error("[MaskService - removeDivisors]"),i}}function n(a,b,c){function d(h){var i=a[h],j=g[h];if(h===f)for(var k=0;j>k;++k)e[h]=i[k],b.apply(c,e);else for(var k=0;j>k;++k)e[h]=i[k],d(h+1);e.pop()}c||(c=this);for(var e=[],f=a.length-1,g=[],h=a.length;h--;)g[h]=a[h].length;d(0)}function o(a){function b(a,b){var c=a;if(!angular.isArray(a)||!angular.isArray(b))return c;for(var d=0;d<b.length;d++){var e=b[d];e<c.length&&c.splice(e,0,B[e])}return c}var c=a.split(""),d=!0;if(x.length>0){for(var e=[],f=Object.keys(y),g=0;g<f.length;g++){var h=y[f[g]];e.push(h)}0===z.length&&n(e,function(){z.push(Array.prototype.slice.call(arguments))});for(var g=z.length-1;g>=0;g--){var i=angular.copy(c);i=b(i,z[g]);var j=i.join(""),l=k(u.length-1);if(l.test(j)){d=!1,c=i;break}}}return d&&(c=b(c,A)),c.join("")}function p(b){try{var c=m(b),d=o(c);return{withDivisors:function(a){return a?d.substr(0,v):d},withoutDivisors:function(a){return a?c.substr(0,w):c}}}catch(e){throw a.error("[MaskService - getViewValue]"),e}}function q(a,b){var c=[];if(!a)return 0;for(var d=0;d<a.length;d++){var e=k(d),f=a.substr(0,d+1);if(e&&!e.test(f)&&(c.push(d),b))break}return c}function r(a){return q(a,!0)[0]}function s(a){var b=q(a,!1),c=a;for(var d in b){var e=b[d],f=a.split("");f.splice(e,1),c=f.join("")}return p(c)}var t,u,v=0,w=0,x=[],y={},z=[],A=[],B={},C=[],D={9:/[0-9]/,8:/[0-8]/,7:/[0-7]/,6:/[0-6]/,5:/[0-5]/,4:/[0-4]/,3:/[0-3]/,2:/[0-2]/,1:/[0-1]/,0:/[0]/,"*":/./,w:/\w/,W:/\W/,d:/\d/,D:/\D/,s:/\s/,S:/\S/,b:/\b/,A:/[A-Z]/,a:/[a-z]/,Z:/[A-ZÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,z:/[a-zçáàãâéèêẽíìĩîóòôõúùũüû]/,"@":/[a-zA-Z]/,"#":/[a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,"%":/[0-9a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/};return{getViewValue:p,generateRegex:j,getRegex:k,getOptions:l,removeDivisors:m,getFirstWrongPosition:r,removeWrongPositions:s}}return{create:b}}])}();
//# sourceMappingURL=ngMask.min.map