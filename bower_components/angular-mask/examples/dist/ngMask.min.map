{"version":3,"file":"ngMask.min.js","sources":["ngMask.js"],"names":["angular","module","directive","$log","$timeout","MaskService","restrict","require","compile","$element","$attrs","setSelectionRange","selectionStart","cancel","timeout","selectionEnd","input","focus","createTextRange","range","collapse","moveEnd","moveStart","select","mask","ngModel","error","promise","maskService","create","pre","$scope","generateRegex","repeat","maskRepeat","clean","maskClean","limit","maskLimit","maskRestrict","validate","maskValidate","model","value","ngValue","post","controller","then","parseViewValue","viewValue","getViewValue","maskWithoutOptionals","options","viewValueWithDivisors","withDivisors","viewValueWithoutDivisors","withoutDivisors","regex","getRegex","length","fullRegex","validCurrentPosition","test","diffValueAndViewValueLengthIsOne","diffMaskAndViewValueIsGreaterThanZero","removeWrongPositions","lastCharInputed","lastCharGenerated","wrongPosition","getFirstWrongPosition","isDefined","$dirty","$setValidity","$setViewValue","copy","$render","e","getOptions","$parsers","push","on","val","$apply","watcher","$watch","newValue","$evalAsync","factory","$q","getOptionals","indexes","regexp","match","exec","index","fromMask","fromMaskWithoutOptionals","getOptionalsRelativeMaskWithoutOptionals","optionals","i","removeOptionals","newMask","replace","uniqueArray","array","u","a","l","hasOwnProperty","inArray","output","indexOf","isDivisor","currentPos","divisors","isOptional","optionalIndexes","generateIntermetiateRegex","forceOptional","generateIntermetiateElementRegex","charRegex","element","elementRegex","patterns","hasOptional","source","divisorElements","RegExp","elementOptionalRegex","intermetiateElementRegex","currentRegex","maskWithoutOptionalsLength","intermetiateRegex","opts","generateOptionalDivisors","sortNumber","b","sortedDivisors","sort","sortedOptionals","divisor","j","optional","optionalDivisors","concat","deferred","defer","Array","parseInt","join","cumulativeRegex","newRegex","maskWithoutOptionalsAndDivisorsLength","removeDivisors","resolve","optionalDivisorsCombinations","reject","keys","Object","elments","lazyProduct","sets","f","context","dive","d","len","lens","max","p","apply","pop","this","tryDivisorConfiguration","insertDivisors","combination","insert","out","splice","divs","filter","it","optionalDivisorsKeys","map","notInCombination","notInOptionalDivisorParent","isArray","split","defaultDivisors","lazyArguments","prototype","slice","call","arguments","outputClone","outputWithoutDivisors","capped","substr","getWrongPositions","onlyFirst","pos","pattern","wrongPositions","newViewValue","viewValueArray","9","8","7","6","5","4","3","2","1","0","*","w","W","D","s","S","A","Z","z","@","#","%"],"mappings":"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"}